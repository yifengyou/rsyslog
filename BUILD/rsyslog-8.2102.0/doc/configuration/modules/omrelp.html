
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>omrelp: RELP Output Module &#8212; rsyslog 8.2102.0 documentation</title>
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/rsyslog.css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="omruleset: ruleset output/including module" href="omruleset.html" />
    <link rel="prev" title="omrabbitmq: RabbitMQ output module" href="omrabbitmq.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="omruleset.html" title="omruleset: ruleset output/including module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="omrabbitmq.html" title="omrabbitmq: RabbitMQ output module"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">rsyslog 8.2102.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Configuration</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >Modules</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="idx_output.html" accesskey="U">Output Modules</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="omrelp-relp-output-module">
<h1>omrelp: RELP Output Module<a class="headerlink" href="#omrelp-relp-output-module" title="Permalink to this headline">¶</a></h1>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Module Name:</strong></td>
<td><strong>omrelp</strong></td>
</tr>
<tr class="row-even"><td><strong>Author:</strong></td>
<td><a class="reference external" href="https://rainer.gerhards.net/">Rainer Gerhards</a> &lt;<a class="reference external" href="mailto:rgerhards&#37;&#52;&#48;adiscon&#46;com">rgerhards<span>&#64;</span>adiscon<span>&#46;</span>com</a>&gt;</td>
</tr>
</tbody>
</table>
<div class="section" id="purpose">
<h2>Purpose<a class="headerlink" href="#purpose" title="Permalink to this headline">¶</a></h2>
<p>This module supports sending syslog messages over the reliable RELP
protocol. For RELP’s advantages over plain tcp syslog, please see the
documentation for <a class="reference internal" href="imrelp.html"><span class="doc">imrelp</span></a> (the server counterpart).</p>
<p>Setup</p>
<p>Please note that <a class="reference external" href="http://www.librelp.com">librelp</a> is required for
imrelp (it provides the core relp protocol implementation).</p>
</div>
<div class="section" id="configuration-parameters">
<h2>Configuration Parameters<a class="headerlink" href="#configuration-parameters" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Parameter names are case-insensitive.</p>
</div>
<div class="section" id="module-parameters">
<h3>Module Parameters<a class="headerlink" href="#module-parameters" title="Permalink to this headline">¶</a></h3>
<div class="section" id="tls-tlslib">
<h4>tls.tlslib<a class="headerlink" href="#tls-tlslib" title="Permalink to this headline">¶</a></h4>
<table border="1" class="colwidths-auto parameter-table docutils">
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">default</th>
<th class="head">mandatory</th>
<th class="head"><code class="docutils literal notranslate"><span class="pre">obsolete</span> <span class="pre">legacy</span></code> directive</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>word</td>
<td>none</td>
<td>no</td>
<td>none</td>
</tr>
</tbody>
</table>
<div class="versionadded">
<p><span class="versionmodified">New in version 8.1903.0.</span></p>
</div>
<p>Permits to specify the TLS library used by librelp.
All relp protocol operations or actually performed by librelp and
not rsyslog itself.  This value specified is directly passed down to
librelp. Depending on librelp version and build parameters, supported
tls libraries differ (or TLS may not be supported at all). In this case
rsyslog emits an error message.</p>
<p>Usually, the following options should be available: “openssl”, “gnutls”.</p>
<p>Note that “gnutls” is the current default for historic reasons. We actually
recommend to use “openssl”. It provides better error messages and accepts
a wider range of certificate types.</p>
<p>If you have problems with the default setting, we recommend to switch to
“openssl”.</p>
</div>
</div>
<div class="section" id="action-parameters">
<h3>Action Parameters<a class="headerlink" href="#action-parameters" title="Permalink to this headline">¶</a></h3>
<div class="section" id="target">
<h4>Target<a class="headerlink" href="#target" title="Permalink to this headline">¶</a></h4>
<table border="1" class="colwidths-auto parameter-table docutils">
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">default</th>
<th class="head">mandatory</th>
<th class="head"><code class="docutils literal notranslate"><span class="pre">obsolete</span> <span class="pre">legacy</span></code> directive</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>word</td>
<td>none</td>
<td>yes</td>
<td>none</td>
</tr>
</tbody>
</table>
<p>The target server to connect to.</p>
</div>
<div class="section" id="port">
<h4>Port<a class="headerlink" href="#port" title="Permalink to this headline">¶</a></h4>
<table border="1" class="colwidths-auto parameter-table docutils">
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">default</th>
<th class="head">mandatory</th>
<th class="head"><code class="docutils literal notranslate"><span class="pre">obsolete</span> <span class="pre">legacy</span></code> directive</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>word</td>
<td>514</td>
<td>no</td>
<td>none</td>
</tr>
</tbody>
</table>
<p>Name or numerical value of TCP port to use when connecting to target.</p>
</div>
<div class="section" id="template">
<h4>Template<a class="headerlink" href="#template" title="Permalink to this headline">¶</a></h4>
<table border="1" class="colwidths-auto parameter-table docutils">
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">default</th>
<th class="head">mandatory</th>
<th class="head"><code class="docutils literal notranslate"><span class="pre">obsolete</span> <span class="pre">legacy</span></code> directive</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>word</td>
<td>RSYSLOG_ForwardFormat</td>
<td>no</td>
<td>none</td>
</tr>
</tbody>
</table>
<p>Defines the template to be used for the output.</p>
</div>
<div class="section" id="timeout">
<h4>Timeout<a class="headerlink" href="#timeout" title="Permalink to this headline">¶</a></h4>
<table border="1" class="colwidths-auto parameter-table docutils">
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">default</th>
<th class="head">mandatory</th>
<th class="head"><code class="docutils literal notranslate"><span class="pre">obsolete</span> <span class="pre">legacy</span></code> directive</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>int</td>
<td>90</td>
<td>no</td>
<td>none</td>
</tr>
</tbody>
</table>
<p>Timeout for relp sessions. If set too low, valid sessions may be
considered dead and tried to recover.</p>
</div>
<div class="section" id="conn-timeout">
<h4>Conn.Timeout<a class="headerlink" href="#conn-timeout" title="Permalink to this headline">¶</a></h4>
<table border="1" class="colwidths-auto parameter-table docutils">
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">default</th>
<th class="head">mandatory</th>
<th class="head"><code class="docutils literal notranslate"><span class="pre">obsolete</span> <span class="pre">legacy</span></code> directive</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>int</td>
<td>10</td>
<td>no</td>
<td>none</td>
</tr>
</tbody>
</table>
<p>Timeout for the socket connection.</p>
</div>
<div class="section" id="rebindinterval">
<h4>RebindInterval<a class="headerlink" href="#rebindinterval" title="Permalink to this headline">¶</a></h4>
<table border="1" class="colwidths-auto parameter-table docutils">
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">default</th>
<th class="head">mandatory</th>
<th class="head"><code class="docutils literal notranslate"><span class="pre">obsolete</span> <span class="pre">legacy</span></code> directive</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>int</td>
<td>0</td>
<td>no</td>
<td>none</td>
</tr>
</tbody>
</table>
<p>Permits to specify an interval at which the current connection is
broken and re-established. This setting is primarily an aid to load
balancers. After the configured number of messages has been
transmitted, the current connection is terminated and a new one
started. This usually is perceived as a ``new connection’’ by load
balancers, which in turn forward messages to another physical target
system.</p>
</div>
<div class="section" id="windowsize">
<h4>WindowSize<a class="headerlink" href="#windowsize" title="Permalink to this headline">¶</a></h4>
<table border="1" class="colwidths-auto parameter-table docutils">
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">default</th>
<th class="head">mandatory</th>
<th class="head"><code class="docutils literal notranslate"><span class="pre">obsolete</span> <span class="pre">legacy</span></code> directive</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>int</td>
<td>0</td>
<td>no</td>
<td>none</td>
</tr>
</tbody>
</table>
<p>This is an <strong>expert parameter</strong>. It permits to override the RELP
window size being used by the client. Changing the window size has
both an effect on performance as well as potential message
duplication in failure case. A larger window size means more
performance, but also potentially more duplicated messages - and vice
versa. The default 0 means that librelp’s default window size is
being used, which is considered a compromise between goals reached.
For your information: at the time of this writing, the librelp
default window size is 128 messages, but this may change at any time.
Note that there is no equivalent server parameter, as the client
proposes and manages the window size in RELP protocol.</p>
</div>
<div class="section" id="tls">
<h4>TLS<a class="headerlink" href="#tls" title="Permalink to this headline">¶</a></h4>
<table border="1" class="colwidths-auto parameter-table docutils">
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">default</th>
<th class="head">mandatory</th>
<th class="head"><code class="docutils literal notranslate"><span class="pre">obsolete</span> <span class="pre">legacy</span></code> directive</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>binary</td>
<td>off</td>
<td>no</td>
<td>none</td>
</tr>
</tbody>
</table>
<p>If set to “on”, the RELP connection will be encrypted by TLS, so
that the data is protected against observers. Please note that both
the client and the server must have set TLS to either “on” or “off”.
Other combinations lead to unpredictable results.</p>
<p><em>Attention when using GnuTLS 2.10.x or older</em></p>
<p>Versions older than GnuTLS 2.10.x may cause a crash (Segfault) under
certain circumstances. Most likely when an imrelp inputs and an
omrelp output is configured. The crash may happen when you are
receiving/sending messages at the same time. Upgrade to a newer
version like GnuTLS 2.12.21 to solve the problem.</p>
</div>
<div class="section" id="tls-compression">
<h4>TLS.Compression<a class="headerlink" href="#tls-compression" title="Permalink to this headline">¶</a></h4>
<table border="1" class="colwidths-auto parameter-table docutils">
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">default</th>
<th class="head">mandatory</th>
<th class="head"><code class="docutils literal notranslate"><span class="pre">obsolete</span> <span class="pre">legacy</span></code> directive</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>binary</td>
<td>off</td>
<td>no</td>
<td>none</td>
</tr>
</tbody>
</table>
<p>The controls if the TLS stream should be compressed (zipped). While
this increases CPU use, the network bandwidth should be reduced. Note
that typical text-based log records usually compress rather well.</p>
</div>
<div class="section" id="tls-permittedpeer">
<h4>TLS.PermittedPeer<a class="headerlink" href="#tls-permittedpeer" title="Permalink to this headline">¶</a></h4>
<table border="1" class="colwidths-auto parameter-table docutils">
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">default</th>
<th class="head">mandatory</th>
<th class="head"><code class="docutils literal notranslate"><span class="pre">obsolete</span> <span class="pre">legacy</span></code> directive</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>array</td>
<td>none</td>
<td>no</td>
<td>none</td>
</tr>
</tbody>
</table>
<p>Note: this parameter is mandatory depending on the value of
<cite>TLS.AuthMode</cite> but the code does currently not check this.</p>
<p>Peer Places access restrictions on this forwarder. Only peers which
have been listed in this parameter may be connected to. This guards
against rouge servers and man-in-the-middle attacks. The validation
bases on the certificate the remote peer presents.</p>
<p>This contains either remote system names or fingerprints, depending
on the value of parameter <cite>TLS.AuthMode</cite>. One or more values may be
entered.</p>
<p>When a non-permitted peer is connected to, the refusal is logged
together with the given remote peer identify. This is especially
useful in <em>fingerprint</em> authentication mode: if the
administrator knows this was a valid request, he can simply add the
fingerprint by copy and paste from the logfile to rsyslog.conf. It
must be noted, though, that this situation should usually not happen
after initial client setup and administrators should be alert in this
case.</p>
<p>Note that usually a single remote peer should be all that is ever
needed. Support for multiple peers is primarily included in support
of load balancing scenarios. If the connection goes to a specific
server, only one specific certificate is ever expected (just like
when connecting to a specific ssh server).
To specify multiple fingerprints, just enclose them in braces like
this:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>tls.permittedPeer=[&quot;SHA1:...1&quot;, &quot;SHA1:....2&quot;]
</pre></div>
</div>
<p>To specify just a single peer, you can either specify the string
directly or enclose it in braces.</p>
<p>Note that in <em>name</em> authentication mode wildcards are supported.
This can be done as follows:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>tls.permittedPeer=&quot;*.example.com&quot;
</pre></div>
</div>
<p>Of course, there can also be multiple names used, some with and
some without wildcards:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>tls.permittedPeer=[&quot;*.example.com&quot;, &quot;srv1.example.net&quot;, &quot;srv2.example.net&quot;]
</pre></div>
</div>
</div>
<div class="section" id="tls-authmode">
<h4>TLS.AuthMode<a class="headerlink" href="#tls-authmode" title="Permalink to this headline">¶</a></h4>
<table border="1" class="colwidths-auto parameter-table docutils">
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">default</th>
<th class="head">mandatory</th>
<th class="head"><code class="docutils literal notranslate"><span class="pre">obsolete</span> <span class="pre">legacy</span></code> directive</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>string</td>
<td>none</td>
<td>no</td>
<td>none</td>
</tr>
</tbody>
</table>
<p>Sets the mode used for mutual authentication. Supported values are
either “<em>fingerprint</em>” or “<em>name</em>”. Fingerprint mode basically is
what SSH does. It does not require a full PKI to be present, instead
self-signed certs can be used on all peers. Even if a CA certificate
is given, the validity of the peer cert is NOT verified against it.
Only the certificate fingerprint counts.</p>
<p>In “name” mode, certificate validation happens. Here, the matching is
done against the certificate’s subjectAltName and, as a fallback, the
subject common name. If the certificate contains multiple names, a
match on any one of these names is considered good and permits the
peer to talk to rsyslog.</p>
<p>The permitted names or fingerprints are configured via
<cite>TLS.PermittedPeer</cite>.</p>
</div>
</div>
<div class="section" id="about-chained-certificates">
<h3>About Chained Certificates<a class="headerlink" href="#about-chained-certificates" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 8.2008.0.</span></p>
</div>
<p>With librelp 1.7.0, you can use chained certificates.
If using “openssl” as tls.tlslib, we recommend at least OpenSSL Version 1.1
or higher. Chained certificates will also work with OpenSSL Version 1.0.2, but
they will be loaded into the main OpenSSL context object making them available
to all librelp instances (omrelp/imrelp) within the same process.</p>
<p>If this is not desired, you will require to run rsyslog in multiple instances
with different omrelp configurations and certificates.</p>
<div class="section" id="tls-cacert">
<h4>TLS.CaCert<a class="headerlink" href="#tls-cacert" title="Permalink to this headline">¶</a></h4>
<table border="1" class="colwidths-auto parameter-table docutils">
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">default</th>
<th class="head">mandatory</th>
<th class="head"><code class="docutils literal notranslate"><span class="pre">obsolete</span> <span class="pre">legacy</span></code> directive</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>string</td>
<td>none</td>
<td>no</td>
<td>none</td>
</tr>
</tbody>
</table>
<p>The CA certificate that can verify the machine certs.</p>
</div>
<div class="section" id="tls-mycert">
<h4>TLS.MyCert<a class="headerlink" href="#tls-mycert" title="Permalink to this headline">¶</a></h4>
<table border="1" class="colwidths-auto parameter-table docutils">
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">default</th>
<th class="head">mandatory</th>
<th class="head"><code class="docutils literal notranslate"><span class="pre">obsolete</span> <span class="pre">legacy</span></code> directive</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>string</td>
<td>none</td>
<td>no</td>
<td>none</td>
</tr>
</tbody>
</table>
<p>The machine public certificate.</p>
</div>
<div class="section" id="tls-myprivkey">
<h4>TLS.MyPrivKey<a class="headerlink" href="#tls-myprivkey" title="Permalink to this headline">¶</a></h4>
<table border="1" class="colwidths-auto parameter-table docutils">
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">default</th>
<th class="head">mandatory</th>
<th class="head"><code class="docutils literal notranslate"><span class="pre">obsolete</span> <span class="pre">legacy</span></code> directive</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>string</td>
<td>none</td>
<td>no</td>
<td>none</td>
</tr>
</tbody>
</table>
<p>The machine private key.</p>
</div>
<div class="section" id="tls-prioritystring">
<h4>TLS.PriorityString<a class="headerlink" href="#tls-prioritystring" title="Permalink to this headline">¶</a></h4>
<table border="1" class="colwidths-auto parameter-table docutils">
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">default</th>
<th class="head">mandatory</th>
<th class="head"><code class="docutils literal notranslate"><span class="pre">obsolete</span> <span class="pre">legacy</span></code> directive</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>string</td>
<td>none</td>
<td>no</td>
<td>none</td>
</tr>
</tbody>
</table>
<p>This parameter permits to specify the so-called “priority string” to
GnuTLS. This string gives complete control over all crypto
parameters, including compression setting. For this reason, when the
prioritystring is specified, the “tls.compression” parameter has no
effect and is ignored.
Full information about how to construct a priority string can be
found in the GnuTLS manual. At the time of this writing, this
information was contained in <a class="reference external" href="http://gnutls.org/manual/html_node/Priority-Strings.html">section 6.10 of the GnuTLS
manual</a>.
<strong>Note: this is an expert parameter.</strong> Do not use if you do not
exactly know what you are doing.</p>
</div>
<div class="section" id="tls-tlscfgcmd">
<h4>tls.tlscfgcmd<a class="headerlink" href="#tls-tlscfgcmd" title="Permalink to this headline">¶</a></h4>
<table border="1" class="colwidths-auto parameter-table docutils">
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">default</th>
<th class="head">mandatory</th>
<th class="head"><code class="docutils literal notranslate"><span class="pre">obsolete</span> <span class="pre">legacy</span></code> directive</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>string</td>
<td>none</td>
<td>no</td>
<td>none</td>
</tr>
</tbody>
</table>
<div class="versionadded">
<p><span class="versionmodified">New in version 8.2001.0.</span></p>
</div>
<p>The setting can be used if tls.tlslib is set to “openssl” to pass configuration commands to
the openssl libray.
OpenSSL Version 1.0.2 or higher is required for this feature.
A list of possible commands and their valid values can be found in the documentation:
<a class="reference external" href="https://www.openssl.org/docs/man1.0.2/man3/SSL_CONF_cmd.html">https://www.openssl.org/docs/man1.0.2/man3/SSL_CONF_cmd.html</a></p>
<p>The setting can be single or multiline, each configuration command is separated by linefeed (n).
Command and value are separated by equal sign (=). Here are a few samples:</p>
</div>
</div>
<div class="section" id="example-1">
<h3>Example 1<a class="headerlink" href="#example-1" title="Permalink to this headline">¶</a></h3>
<p>This will allow all protocols except for SSLv2 and SSLv3:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>tls.tlscfgcmd=&quot;Protocol=ALL,-SSLv2,-SSLv3&quot;
</pre></div>
</div>
</div>
<div class="section" id="example-2">
<h3>Example 2<a class="headerlink" href="#example-2" title="Permalink to this headline">¶</a></h3>
<p>This will allow all protocols except for SSLv2, SSLv3 and TLSv1.
It will also set the minimum protocol to TLSv1.2</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>tls.tlscfgcmd=&quot;Protocol=ALL,-SSLv2,-SSLv3,-TLSv1
MinProtocol=TLSv1.2&quot;
</pre></div>
</div>
<div class="section" id="localclientip">
<h4>LocalClientIp<a class="headerlink" href="#localclientip" title="Permalink to this headline">¶</a></h4>
<table border="1" class="colwidths-auto parameter-table docutils">
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">default</th>
<th class="head">mandatory</th>
<th class="head"><code class="docutils literal notranslate"><span class="pre">obsolete</span> <span class="pre">legacy</span></code> directive</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>word</td>
<td>none</td>
<td>no</td>
<td>none</td>
</tr>
</tbody>
</table>
<p>Omrelp uses ip_address as local client address while connecting
to remote logserver.</p>
</div>
</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="sending-msgs-with-omrelp">
<h3>Sending msgs with omrelp<a class="headerlink" href="#sending-msgs-with-omrelp" title="Permalink to this headline">¶</a></h3>
<p>The following sample sends all messages to the central server
“centralserv” at port 2514 (note that that server must run imrelp on
port 2514).</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>module(load=&quot;omrelp&quot;)
action(type=&quot;omrelp&quot; target=&quot;centralserv&quot; port=&quot;2514&quot;)
</pre></div>
</div>
</div>
<div class="section" id="sending-msgs-with-omrelp-via-tls">
<h3>Sending msgs with omrelp via TLS<a class="headerlink" href="#sending-msgs-with-omrelp-via-tls" title="Permalink to this headline">¶</a></h3>
<p>This is the same as the previous example but uses TLS (via OpenSSL) for
operations.</p>
<p>Certificate files must exist at configured locations. Note that authmode
“certvalid” is not very strong - you may want to use a different one for
actual deployments. For details, see parameter descriptions.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>module(load=&quot;omrelp&quot; tls.tlslib=&quot;openssl&quot;)
action(type=&quot;omrelp&quot;
             target=&quot;centralserv&quot; port=&quot;2514&quot; tls=&quot;on&quot;
             tls.cacert=&quot;tls-certs/ca.pem&quot;
             tls.mycert=&quot;tls-certs/cert.pem&quot;
             tls.myprivkey=&quot;tls-certs/key.pem&quot;
             tls.authmode=&quot;certvalid&quot;
             tls.permittedpeer=&quot;rsyslog&quot;)
</pre></div>
</div>
</div>
</div>
<div class="section" id="fmtobsoletename-directives">
<h2><code class="docutils literal notranslate"><span class="pre">obsolete</span> <span class="pre">legacy</span></code> directives<a class="headerlink" href="#fmtobsoletename-directives" title="Permalink to this headline">¶</a></h2>
<p>This module uses old-style action configuration to keep consistent with
the forwarding rule. So far, no additional configuration directives can
be specified. To send a message via RELP, use</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>*.*  :omrelp:&lt;server&gt;:&lt;port&gt;;&lt;template&gt;
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p>Help with configuring/using <code class="docutils literal notranslate"><span class="pre">Rsyslog</span></code>:</p>
<ul class="last simple">
<li><a class="reference external" href="http://lists.adiscon.net/mailman/listinfo/rsyslog">Mailing list</a> - best route for general questions</li>
<li>GitHub: <a class="reference external" href="https://github.com/rsyslog/rsyslog/">rsyslog source project</a> - detailed questions, reporting issues
that are believed to be bugs with <code class="docutils literal notranslate"><span class="pre">Rsyslog</span></code></li>
<li>Stack Exchange (<a class="reference external" href="https://stackexchange.com/filters/327462/rsyslog">View</a>, <a class="reference external" href="https://serverfault.com/questions/ask?tags=rsyslog">Ask</a>)
- experimental support from rsyslog community</li>
</ul>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p>Contributing to <code class="docutils literal notranslate"><span class="pre">Rsyslog</span></code>:</p>
<ul class="last simple">
<li>Source project: <a class="reference external" href="https://github.com/rsyslog/rsyslog/blob/master/README.md">rsyslog project README</a>.</li>
<li>Documentation: <a class="reference external" href="https://github.com/rsyslog/rsyslog-doc/blob/master/README.md">rsyslog-doc project README</a></li>
</ul>
</div>
<p>Copyright 2008-2020 <a class="reference external" href="https://rainer.gerhards.net/">Rainer Gerhards</a>
(<a class="reference external" href="https://www.rainer-gerhards.de/grossrinderfeld/">Großrinderfeld</a>),
and Others.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">omrelp: RELP Output Module</a><ul>
<li><a class="reference internal" href="#purpose">Purpose</a></li>
<li><a class="reference internal" href="#configuration-parameters">Configuration Parameters</a><ul>
<li><a class="reference internal" href="#module-parameters">Module Parameters</a><ul>
<li><a class="reference internal" href="#tls-tlslib">tls.tlslib</a></li>
</ul>
</li>
<li><a class="reference internal" href="#action-parameters">Action Parameters</a><ul>
<li><a class="reference internal" href="#target">Target</a></li>
<li><a class="reference internal" href="#port">Port</a></li>
<li><a class="reference internal" href="#template">Template</a></li>
<li><a class="reference internal" href="#timeout">Timeout</a></li>
<li><a class="reference internal" href="#conn-timeout">Conn.Timeout</a></li>
<li><a class="reference internal" href="#rebindinterval">RebindInterval</a></li>
<li><a class="reference internal" href="#windowsize">WindowSize</a></li>
<li><a class="reference internal" href="#tls">TLS</a></li>
<li><a class="reference internal" href="#tls-compression">TLS.Compression</a></li>
<li><a class="reference internal" href="#tls-permittedpeer">TLS.PermittedPeer</a></li>
<li><a class="reference internal" href="#tls-authmode">TLS.AuthMode</a></li>
</ul>
</li>
<li><a class="reference internal" href="#about-chained-certificates">About Chained Certificates</a><ul>
<li><a class="reference internal" href="#tls-cacert">TLS.CaCert</a></li>
<li><a class="reference internal" href="#tls-mycert">TLS.MyCert</a></li>
<li><a class="reference internal" href="#tls-myprivkey">TLS.MyPrivKey</a></li>
<li><a class="reference internal" href="#tls-prioritystring">TLS.PriorityString</a></li>
<li><a class="reference internal" href="#tls-tlscfgcmd">tls.tlscfgcmd</a></li>
</ul>
</li>
<li><a class="reference internal" href="#example-1">Example 1</a></li>
<li><a class="reference internal" href="#example-2">Example 2</a><ul>
<li><a class="reference internal" href="#localclientip">LocalClientIp</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#examples">Examples</a><ul>
<li><a class="reference internal" href="#sending-msgs-with-omrelp">Sending msgs with omrelp</a></li>
<li><a class="reference internal" href="#sending-msgs-with-omrelp-via-tls">Sending msgs with omrelp via TLS</a></li>
</ul>
</li>
<li><a class="reference internal" href="#fmtobsoletename-directives"><code class="docutils literal notranslate"><span class="pre">obsolete</span> <span class="pre">legacy</span></code> directives</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="omrabbitmq.html"
                        title="previous chapter">omrabbitmq: RabbitMQ output module</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="omruleset.html"
                        title="next chapter">omruleset: ruleset output/including module</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/configuration/modules/omrelp.rst.txt"
           rel="nofollow">Show Source</a></li>
    <li><a href="https://github.com/rsyslog/rsyslog-doc/edit/master/source/configuration/modules/omrelp.rst"
           rel="nofollow">Edit on GitHub</a></li>
  </ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="omruleset.html" title="omruleset: ruleset output/including module"
             >next</a> |</li>
        <li class="right" >
          <a href="omrabbitmq.html" title="omrabbitmq: RabbitMQ output module"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">rsyslog 8.2102.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Configuration</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >Modules</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="idx_output.html" >Output Modules</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    </div>
  </body>
</html>